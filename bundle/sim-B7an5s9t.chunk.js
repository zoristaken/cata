import{o as t,q as e,s as a,t as s,U as n,a1 as i,u as o,a6 as l,G as r,x as p,K as d}from"./preset_utils-BOrpehHr.chunk.js";import{R as c}from"./suggest_reforges_action-C8jDlFca.chunk.js";import{a3 as u,a4 as m,a5 as h,a6 as g,G as S,bk as f,bl as I,bm as O,bn as v,ab as y,ae as P,aG as A,ac as b,ad as M,a as H,ah as E,ap as k,aH as T,ag as C,ai as w,aj as x,ak as G,al as D,an as R,S as F,F as j,R as B}from"./detailed_results-BnSf1ELV.chunk.js";import{A as L,M as q,O as W,T as U}from"./inputs-C__DY29M.chunk.js";const _={type:"TypeAPL",prepullActions:[{action:{activateAura:{auraId:{spellId:1784}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:703}}}}},castSpell:{spellId:{spellId:703}}}},{action:{condition:{not:{val:{auraIsActive:{auraId:{spellId:5171}}}}},castSpell:{spellId:{spellId:5171}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"1s"}}}},{auraIsActive:{auraId:{spellId:5171}}}]}},castSpell:{spellId:{spellId:32645}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:1943}}},rhs:{const:{val:"2"}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"6"}}}},{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"6"}}}},{not:{val:{dotIsActive:{spellId:{spellId:1943}}}}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{not:{val:{auraIsActive:{auraId:{spellId:58427}}}}},castSpell:{spellId:{spellId:1856}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"5s"}}}}]}},castSpell:{spellId:{spellId:14177}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{or:{vals:[{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:32645}}}}},{cmp:{op:"OpGe",lhs:{currentEnergy:{}},rhs:{const:{val:"55"}}}}]}},{and:{vals:[{auraIsActive:{auraId:{spellId:32645}}},{cmp:{op:"OpGe",lhs:{currentEnergy:{}},rhs:{const:{val:"80"}}}}]}}]}},{not:{val:{isExecutePhase:{threshold:"E35"}}}}]}},castSpell:{spellId:{spellId:32645}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{or:{vals:[{and:{vals:[{auraIsActive:{auraId:{spellId:32645}}},{cmp:{op:"OpGe",lhs:{currentEnergy:{}},rhs:{const:{val:"65"}}}}]}},{not:{val:{auraIsActive:{auraId:{spellId:32645}}}}}]}},{isExecutePhase:{threshold:"E35"}}]}},castSpell:{spellId:{spellId:32645}}}},{action:{condition:{and:{vals:[{isExecutePhase:{threshold:"E35"}},{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}}]}},castSpell:{spellId:{spellId:53}}}},{action:{condition:{and:{vals:[{not:{val:{isExecutePhase:{threshold:"E35"}}}},{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:1329}}}}]},z={items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:146},{id:65107,reforging:151},{id:65243,enchant:4204,gems:[52220],reforging:146},{id:69884,randomSuffix:-136,enchant:1099,reforging:151},{id:65239,enchant:4102,gems:[52212,52220],reforging:151},{id:65050,enchant:4258,gems:[0],reforging:144},{id:65240,enchant:4107,gems:[52212,0],reforging:153},{id:60231,gems:[52220,52212,52212],reforging:144},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220],reforging:153},{id:65144,enchant:4076,gems:[52212],reforging:153},{id:65367,randomSuffix:-136},{id:65082,reforging:147},{id:65026},{id:58181},{id:65081,enchant:4099},{id:68600,enchant:4099,reforging:144},{id:65095,reforging:146}]},K=t("P1 Assassination",{items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:147},{id:65107,reforging:151},{id:65243,enchant:4204,gems:[52220],reforging:144},{id:69884,randomSuffix:-136,enchant:1099,reforging:151},{id:65239,enchant:4102,gems:[52212,52220],reforging:154},{id:65050,enchant:4258,gems:[0],reforging:144},{id:65240,enchant:4107,gems:[52212,0],reforging:154},{id:60231,gems:[52220,52212,52212],reforging:144},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220]},{id:65144,enchant:4076,gems:[52212]},{id:65367,randomSuffix:-136},{id:65082,reforging:147},{id:65026},{id:58181},{id:65081,enchant:4099,reforging:160},{id:68600,enchant:4099,reforging:144},{id:65095,reforging:144}]}),V=t("P1 Expertise",z),J=e("Assassination",_),N=a("P1",u.fromMap({[m.StatAgility]:2.58,[m.StatStrength]:1.05,[m.StatAttackPower]:1,[m.StatSpellCrit]:.26,[m.StatSpellHit]:1.31,[m.StatMeleeHit]:1.43,[m.StatMeleeCrit]:.62,[m.StatMeleeHaste]:1.1,[m.StatMastery]:1.23,[m.StatExpertise]:1.04},{[h.PseudoStatMainHandDps]:2.49,[h.PseudoStatOffHandDps]:1})),Q=a("P1 Expertise",u.fromMap({[m.StatAgility]:2.58,[m.StatStrength]:1.05,[m.StatAttackPower]:1,[m.StatSpellCrit]:.26,[m.StatSpellHit]:1.31,[m.StatMeleeHit]:1.43,[m.StatMeleeCrit]:.62,[m.StatMeleeHaste]:1.1,[m.StatMastery]:1.23,[m.StatExpertise]:2},{[h.PseudoStatMainHandDps]:2.49,[h.PseudoStatOffHandDps]:1})),X={name:"Assassination 31/2/8",data:g.create({talentsString:"0333230013122110321-002-203003",glyphs:S.create({prime1:f.GlyphOfMutilate,prime2:f.GlyphOfBackstab,prime3:f.GlyphOfRupture,major1:I.GlyphOfFeint,major2:I.GlyphOfTricksOfTheTrade,major3:I.GlyphOfSprint})})},Y=O.create({classOptions:{mhImbue:v.DeadlyPoison,ohImbue:v.InstantPoison,thImbue:v.DeadlyPoison,applyPoisonsManually:!1,startingOverkillDuration:20,vanishBreakTime:.1}}),Z=y.create({defaultPotion:P.PotionOfTheTolvir,prepopPotion:P.PotionOfTheTolvir,defaultConjured:A.ConjuredRogueThistleTea,flask:b.FlaskOfTheWinds,food:M.FoodSkeweredEel}),$={distanceFromTarget:5,duration:240,durationVariation:20},tt=s(F.SpecAssassinationRogue,{cssClass:"assassination-rogue-sim-ui",cssScheme:H.getCssClass(H.Rogue),knownIssues:["Rotations are not fully optimized, especially for non-standard setups."],epStats:[m.StatAgility,m.StatStrength,m.StatAttackPower,m.StatMeleeHit,m.StatMeleeCrit,m.StatSpellHit,m.StatSpellCrit,m.StatMeleeHaste,m.StatMastery,m.StatExpertise],epPseudoStats:[h.PseudoStatMainHandDps,h.PseudoStatOffHandDps],epReferenceStat:m.StatAttackPower,displayStats:[m.StatHealth,m.StatStamina,m.StatAgility,m.StatStrength,m.StatAttackPower,m.StatMeleeHit,m.StatSpellHit,m.StatMeleeCrit,m.StatSpellCrit,m.StatMeleeHaste,m.StatMastery,m.StatExpertise],defaults:{gear:K.gear,epWeights:N.epWeights,statCaps:(new u).withStat(m.StatExpertise,26*E),softCapBreakpoints:(()=>{const t={stat:m.StatSpellHit,breakpoints:[17*k],capType:T.TypeSoftCap,postCapEPs:[0]};return[{stat:m.StatMeleeHit,breakpoints:[8*C,27*C],capType:T.TypeSoftCap,postCapEPs:[.7,0]},t]})(),other:$,consumes:Z,talents:X.data,specOptions:Y,raidBuffs:w.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:x.create({}),individualBuffs:G.create({}),debuffs:D.create({mangle:!0,sunderArmor:!0,earthAndMoon:!0,bloodFrenzy:!0,shadowAndFlame:!0})},playerInputs:{inputs:[L()]},playerIconInputs:[q(),W(),U()],includeBuffDebuffInputs:[n,i,o,l],excludeBuffDebuffInputs:[],otherInputs:{inputs:[r,p]},itemSwapSlots:[R.ItemSlotMainHand,R.ItemSlotOffHand],encounterPicker:{showExecuteProportion:!0},presets:{epWeights:[N,Q],talents:[X],rotations:[J],gear:[K,V]},autoRotation:t=>{t.sim.encounter.targets.length;return J.rotation.rotation},raidSimPresets:[{spec:F.SpecAssassinationRogue,talents:X.data,specOptions:Y,consumes:Z,defaultFactionRaces:{[j.Unknown]:B.RaceUnknown,[j.Alliance]:B.RaceHuman,[j.Horde]:B.RaceOrc},defaultGear:{[j.Unknown]:{},[j.Alliance]:{1:K.gear},[j.Horde]:{1:K.gear}},otherDefaults:$}]});class et extends d{constructor(t,e){super(t,e,tt),e.sim.waitForInit().then((()=>{new c(this)})),this.player.changeEmitter.on((t=>{const e=this.player.getSpecOptions();if(!e.classOptions.applyPoisonsManually){const t=this.player.getGear().getEquippedItem(R.ItemSlotMainHand)?.item.weaponSpeed,a=this.player.getGear().getEquippedItem(R.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===t||void 0===a)return;t<=a?(e.classOptions.mhImbue=v.DeadlyPoison,e.classOptions.ohImbue=v.InstantPoison):(e.classOptions.mhImbue=v.InstantPoison,e.classOptions.ohImbue=v.DeadlyPoison)}this.player.setSpecOptions(t,e)})),this.sim.encounter.changeEmitter.on((t=>{const e=this.player.getSpecOptions();if(!e.classOptions.applyPoisonsManually){const t=this.player.getGear().getEquippedItem(R.ItemSlotMainHand)?.item.weaponSpeed,a=this.player.getGear().getEquippedItem(R.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===t||void 0===a)return;t<=a?(e.classOptions.mhImbue=v.DeadlyPoison,e.classOptions.ohImbue=v.InstantPoison):(e.classOptions.mhImbue=v.InstantPoison,e.classOptions.ohImbue=v.DeadlyPoison)}this.player.setSpecOptions(t,e)}))}}export{et as A};
