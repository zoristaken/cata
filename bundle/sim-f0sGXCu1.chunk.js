import{l as e,_ as a,$ as t,o as s,q as l,a0 as i,s as n,t as r,a1 as o,u as d,x as p,T as c,y as g,z as m,A as u,D as h,F as S,H as f,G as I,K as v}from"./preset_utils-BOrpehHr.chunk.js";import{R as y}from"./suggest_reforges_action-C8jDlFca.chunk.js";import{T,aE as A,S as R,a3 as O,a4 as P,a5 as b,a6 as k,G as w,ar as C,as as F,at as D,aF as M,ab as H,ac as x,ad as E,ae as G,aG as L,af as z,a as J,ap as N,ah as B,aH as U,ag as j,aA as W,ai as $,aj as _,ak as q,al as K,aI as V,aB as Q,aC as X,aJ as Y,aK as Z,aD as ee,F as ae,R as te}from"./detailed_results-BnSf1ELV.chunk.js";import{s as se}from"./apl_utils-D1BI-JSi.chunk.js";const le=e({fieldName:"startingRage",label:"Starting Rage",labelTooltip:"Initial Rage at the start of each iteration."}),ie={inputs:[a({fieldName:"maintainFaerieFire",label:"Maintain Faerie Fire",labelTooltip:"Maintain Faerie Fire debuff. Overwrites any external Sunder effects specified in settings."}),a({fieldName:"maintainDemoralizingRoar",label:"Maintain Demo Roar",labelTooltip:"Keep Demoralizing Roar active on the primary target. If a stronger debuff is active, will not cast."}),t({fieldName:"demoTime",label:"Demo Roar refresh leeway",labelTooltip:"Refresh Demoralizing Roar when remaining duration is less than this value (in seconds). Larger values provide safety buffer against misses, but at the cost of lower DPS.",showWhen:e=>e.getSimpleRotation().maintainDemoralizingRoar}),t({fieldName:"pulverizeTime",label:"Pulverize refresh leeway",labelTooltip:"Refresh Pulverize when remaining duration is less than this value (in seconds). Note that Mangle, Thrash, and Faerie Fire usage on cooldown takes priority over this rule, unless Lacerate itself is about to fall off."}),a({fieldName:"prepullStampede",label:"Assume pre-pull Stampede",labelTooltip:"Activate Stampede Haste buff at the start of each pull. Models the effects of initiating the pull with Feral Charge.",showWhen:e=>e.getTalents().stampede>0,changeEmitter:e=>T.onAny([e.rotationChangeEmitter,e.talentsChangeEmitter])})]},ne={items:[{id:65190,enchant:4206,gems:[52294,52242],reforging:135},{id:69880,randomSuffix:-137,reforging:163},{id:65083,enchant:4198,gems:[52242],reforging:163},{id:65035,enchant:4090,reforging:163},{id:65060,enchant:4103,gems:[52242,52242],reforging:163},{id:65050,enchant:3850,gems:[0],reforging:163},{id:65073,enchant:3260,gems:[52242,0],reforging:163},{id:60231,gems:[52242,52242,52242],reforging:163},{id:65191,enchant:4127,gems:[52233,52242],reforging:163},{id:65144,enchant:4062,gems:[52233],reforging:149},{id:65367,randomSuffix:-137,reforging:163},{id:65082,reforging:135},{id:65048},{id:65109},{id:65139,enchant:4098,reforging:163},{},{id:64671,gems:[52242],reforging:149}]},re={items:[{id:41678,enchant:4222,gems:[41339,45880]},{id:45517,gems:[40008]},{id:45245,enchant:44957,gems:[40008,40008]},{id:45496,enchant:3294,gems:[42702]},{id:45473,enchant:3832,gems:[40008,40008,40008]},{id:45611,enchant:3850,gems:[40008,0]},{id:46043,enchant:63770,gems:[40008,40008,0]},{id:46095,gems:[40008,40008,40008]},{id:45536,enchant:38373,gems:[40008,40008,40008]},{id:45232,enchant:55016,gems:[40008]},{id:45471,gems:[40091]},{id:45608,gems:[40008]},{id:45158},{id:46021},{id:45533,enchant:3870,gems:[40008,40008]},{},{id:45509}]},oe={items:[{id:48204,enchant:3878,gems:[41339,40169]},{id:47133,gems:[49110]},{id:48207,enchant:3852,gems:[40119]},{id:47545,enchant:3294,gems:[40119]},{id:47004,enchant:3832,gems:[40119,40119,40119]},{id:45611,enchant:3850,gems:[40119,0]},{id:48203,enchant:3860,gems:[40119,0]},{id:47112,gems:[40119,40119,40119]},{id:46975,enchant:3822,gems:[40119,40119,40119]},{id:47077,enchant:4223,gems:[40119,40119]},{id:47955,gems:[40119]},{id:47075,gems:[40119]},{id:47088},{id:47131},{id:47130,enchant:3870,gems:[40119,40119]},{},{id:45509}]},de={items:[{id:51296,enchant:3878,gems:[41380,40119]},{id:50682,gems:[40130]},{id:51299,enchant:3852,gems:[40119]},{id:50466,enchant:3294,gems:[40119]},{id:50656,enchant:3330,gems:[40119,40119,40119]},{id:50670,enchant:3850,gems:[40119,0]},{id:51295,enchant:3860,gems:[40119,0]},{id:50707,gems:[40119,40119,40119]},{id:51297,enchant:3822,gems:[40119,40119]},{id:50607,enchant:4223,gems:[40119,40119]},{id:50622,gems:[40119]},{id:50404,gems:[40119]},{id:47088},{id:50364},{id:51432,enchant:3870,gems:[40119,40119]},{},{id:50456}]},pe={type:"TypeAPL",simple:{cooldowns:{cooldowns:[],hpPercentForDefensives:.5}},prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{activateAura:{auraId:{spellId:81017}}},doAtValue:{const:{val:"-0.1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentHealthPercent:{}},rhs:{const:{val:"30%"}}}},castSpell:{spellId:{spellId:22842}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentHealthPercent:{}},rhs:{const:{val:"40%"}}}},castSpell:{spellId:{spellId:61336}}}},{action:{condition:{and:{vals:[{dotIsActive:{spellId:{spellId:33745}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33745}}},rhs:{const:{val:"3"}}}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:33745}}},rhs:{const:{val:"4s"}}}}]}},castSpell:{spellId:{spellId:80313}}}},{action:{condition:{or:{vals:[{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:770}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:770}}},rhs:{const:{val:"6s"}}}}]}},castSpell:{spellId:{spellId:16857}}}},{action:{condition:{auraShouldRefresh:{auraId:{spellId:99},maxOverlap:{const:{val:"4s"}}}},castSpell:{spellId:{spellId:99}}}},{action:{castSpell:{spellId:{spellId:50334}}}},{action:{castSpell:{spellId:{spellId:5229}}}},{action:{castSpell:{spellId:{spellId:82174}}}},{action:{condition:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:33745}}}}},{not:{val:{auraIsActive:{auraId:{spellId:50334}}}}}]}},castSpell:{spellId:{spellId:33745}}}},{action:{castSpell:{spellId:{spellId:33878}}}},{action:{castSpell:{spellId:{spellId:77758}}}},{action:{castSpell:{spellId:{spellId:16857}}}},{action:{condition:{and:{vals:[{dotIsActive:{spellId:{spellId:33745}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33745}}},rhs:{const:{val:"3"}}}},{or:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:80951}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:80951}}},rhs:{const:{val:"4s"}}}}]}}]}},castSpell:{spellId:{spellId:80313}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33745}}},rhs:{const:{val:"3"}}}},castSpell:{spellId:{spellId:33745}}}},{action:{castSpell:{spellId:{spellId:6807}}}}]},ce=s("Preraid Preset",{items:[{id:59455,enchant:4206,gems:[52294,59477,59478]},{id:52350,gems:[52242],reforging:149},{id:64731,enchant:4198,gems:[52233],reforging:156},{id:58191,enchant:4090,reforging:135},{id:67135,enchant:4103,gems:[52242,52242],reforging:163},{id:63454,enchant:3850,gems:[0],reforging:163},{id:62433,enchant:3260,gems:[52242,0],reforging:149},{id:56537,gems:[52242,52242],reforging:135},{id:60288,enchant:4127,gems:[52233,52242],reforging:163},{id:58482,enchant:4062,gems:[52242],reforging:149},{id:52348,gems:[52242],reforging:163},{id:52348,gems:[52242],reforging:163},{id:56347},{id:56370},{id:55066,enchant:4098,reforging:163},{},{id:64671,gems:[52242],reforging:149}]}),ge=s("P1",ne),me=s("P2",re),ue=s("P3",oe),he=s("P4",de),Se=A.create({maintainFaerieFire:!0,maintainDemoralizingRoar:!0,demoTime:4,pulverizeTime:4,prepullStampede:!0}),fe=l("APL Default",pe),Ie=i("Simple Default",R.SpecGuardianDruid,Se),ve=n("Survival",O.fromMap({[P.StatHealth]:.04,[P.StatStamina]:.99,[P.StatAgility]:1,[P.StatArmor]:1.02,[P.StatBonusArmor]:.23,[P.StatDodge]:.97,[P.StatMastery]:.35,[P.StatStrength]:.11,[P.StatAttackPower]:.1,[P.StatMeleeHit]:.075,[P.StatSpellHit]:.195,[P.StatExpertise]:.15,[P.StatMeleeCrit]:.11,[P.StatMeleeHaste]:0},{[b.PseudoStatMainHandDps]:0})),ye=n("Balanced",O.fromMap({[P.StatHealth]:.02,[P.StatStamina]:.76,[P.StatAgility]:1,[P.StatArmor]:.62,[P.StatBonusArmor]:.14,[P.StatDodge]:.59,[P.StatMastery]:.2,[P.StatStrength]:.21,[P.StatAttackPower]:.2,[P.StatMeleeHit]:.6,[P.StatExpertise]:.93,[P.StatMeleeCrit]:.25,[P.StatMeleeHaste]:.03},{[b.PseudoStatMainHandDps]:.23})),Te={name:"Standard",data:k.create({talentsString:"-2300322312310001220311-020331",glyphs:w.create({prime1:C.GlyphOfMangle,prime2:C.GlyphOfLacerate,prime3:C.GlyphOfBerserk,major1:F.GlyphOfFrenziedRegeneration,major2:F.GlyphOfMaul,major3:F.GlyphOfRebirth,minor1:D.GlyphOfDash,minor2:D.GlyphOfChallengingRoar,minor3:D.GlyphOfUnburdenedRebirth})})},Ae=M.create({startingRage:15}),Re=H.create({flask:x.FlaskOfSteelskin,food:E.FoodSkeweredEel,prepopPotion:G.PotionOfTheTolvir,defaultPotion:G.PotionOfTheTolvir,defaultConjured:L.ConjuredHealthstone,tinkerHands:z.TinkerHandsSynapseSprings}),Oe=r(R.SpecGuardianDruid,{cssClass:"guardian-druid-sim-ui",cssScheme:J.getCssClass(J.Druid),knownIssues:[],warnings:[],epStats:[P.StatHealth,P.StatStamina,P.StatAgility,P.StatArmor,P.StatBonusArmor,P.StatDodge,P.StatMastery,P.StatStrength,P.StatAttackPower,P.StatMeleeHit,P.StatExpertise,P.StatMeleeCrit,P.StatMeleeHaste,P.StatNatureResistance],epPseudoStats:[b.PseudoStatMainHandDps],epReferenceStat:P.StatAgility,displayStats:[P.StatHealth,P.StatStamina,P.StatAgility,P.StatArmor,P.StatBonusArmor,P.StatDodge,P.StatMastery,P.StatStrength,P.StatAttackPower,P.StatMeleeHit,P.StatExpertise,P.StatMeleeCrit,P.StatMeleeHaste,P.StatSpellHit,P.StatSpellCrit,P.StatNatureResistance],defaults:{gear:ce.gear,epWeights:ve.epWeights,statCaps:(new O).withStat(P.StatSpellHit,4*N),softCapBreakpoints:[{stat:P.StatExpertise,breakpoints:[26*B,56*B],capType:U.TypeSoftCap,postCapEPs:[.47,0]},{stat:P.StatMeleeHit,breakpoints:[5.5*j,8*j,17*N],capType:U.TypeSoftCap,postCapEPs:[.47,.14,0]}],consumes:Re,rotationType:W.TypeSimple,simpleRotation:Se,talents:Te.data,specOptions:Ae,raidBuffs:$.create({powerWordFortitude:!0,markOfTheWild:!0,bloodlust:!0,strengthOfEarthTotem:!0,abominationsMight:!0,windfuryTotem:!0,communion:!0,devotionAura:!0}),partyBuffs:_.create({}),individualBuffs:q.create({}),debuffs:K.create({ebonPlaguebringer:!0,criticalMass:!0,bloodFrenzy:!0,frostFever:!0})},playerIconInputs:[],rotationInputs:ie,includeBuffDebuffInputs:[o,d],excludeBuffDebuffInputs:[],otherInputs:{inputs:[p,c,g,m,u,h,S,f,le,I]},encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[ve,ye],talents:[Te],rotations:[Ie,fe],gear:[ce,ge]},autoRotation:e=>fe.rotation.rotation,simpleRotation:(e,a,t)=>{const[s,l]=se(t),i=1==e.getTalents().stampede?81016:81017,n=V.fromJsonString(`{"action":{"activateAura":{"auraId":{"spellId":${i.toFixed(0)}}}},"doAtValue":{"const":{"val":"-0.1s"}}}`),r=e.getTalents().pulverize?80313:33745,o=Q.fromJsonString(`{"condition":{"and":{"vals":[{"dotIsActive":{"spellId":{"spellId":33745}}},{"cmp":{"op":"OpEq","lhs":{"auraNumStacks":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":33745}}},"rhs":{"const":{"val":"3"}}}},{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":33745}}},"rhs":{"const":{"val":"${a.pulverizeTime.toFixed(1)}s"}}}}]}},"castSpell":{"spellId":{"spellId":${r.toFixed(0)}}}}`),d=Q.fromJsonString('{"condition":{"or":{"vals":[{"not":{"val":{"auraIsActive":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":770}}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":770}}},"rhs":{"const":{"val":"6s"}}}}]}},"castSpell":{"spellId":{"spellId":16857}}}'),p=Q.fromJsonString(`{"condition":{"auraShouldRefresh":{"auraId":{"spellId":99},"maxOverlap":{"const":{"val":"${a.demoTime.toFixed(1)}s"}}}},"castSpell":{"spellId":{"spellId":99}}}`),c=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":50334}}}'),g=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":5229}}}'),m=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":82174}}}'),u=Q.fromJsonString('{"condition":{"and":{"vals":[{"not":{"val":{"dotIsActive":{"spellId":{"spellId":33745}}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":50334}}}}}]}},"castSpell":{"spellId":{"spellId":33745}}}'),h=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":33878}}}'),S=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":77758}}}'),f=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":16857}}}'),I=Q.fromJsonString(`{"condition":{"and":{"vals":[{"dotIsActive":{"spellId":{"spellId":33745}}},{"cmp":{"op":"OpEq","lhs":{"auraNumStacks":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":33745}}},"rhs":{"const":{"val":"3"}}}},{"or":{"vals":[{"not":{"val":{"auraIsActive":{"auraId":{"spellId":80951}}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":80951}}},"rhs":{"const":{"val":"${a.pulverizeTime.toFixed(1)}s"}}}}]}}]}},"castSpell":{"spellId":{"spellId":80313}}}`),v=Q.fromJsonString('{"condition":{"cmp":{"op":"OpLt","lhs":{"auraNumStacks":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":33745}}},"rhs":{"const":{"val":"3"}}}},"castSpell":{"spellId":{"spellId":33745}}}'),y=Q.fromJsonString('{"castSpell":{"spellId":{"spellId":6807}}}');return s.push(...[a.prepullStampede?n:null].filter((e=>e))),l.push(...[o,a.maintainFaerieFire?d:null,a.maintainDemoralizingRoar?p:null,c,g,m,u,h,S,f,I,v,y].filter((e=>e))),X.create({simple:Y.create({cooldowns:Z.create({hpPercentForDefensives:t.hpPercentForDefensives})}),prepullActions:s,priorityList:l.map((e=>ee.create({action:e})))})},raidSimPresets:[{spec:R.SpecGuardianDruid,talents:Te.data,specOptions:Ae,consumes:Re,defaultFactionRaces:{[ae.Unknown]:te.RaceUnknown,[ae.Alliance]:te.RaceNightElf,[ae.Horde]:te.RaceTauren},defaultGear:{[ae.Unknown]:{},[ae.Alliance]:{1:ge.gear,2:me.gear,3:ue.gear,4:he.gear},[ae.Horde]:{1:ge.gear,2:me.gear,3:ue.gear,4:he.gear}}}]});class Pe extends v{constructor(e,a){super(e,a,Oe),a.sim.waitForInit().then((()=>{new y(this)}))}}export{Pe as G};
